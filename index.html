<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bustrinker - Pyramide</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🍻</text></svg>">
</head>
<body>

    <!-- Ansicht: Hauptmenü -->
    <div id="main-menu-view" class="view active">
        <div class="container">
            <h1>Bustrinker 🍻</h1>
            <input type="text" id="nickname-input" placeholder="Nickname" maxlength="15">
            <button id="host-btn">Spiel erstellen (Host)</button>
            <button id="join-btn">Spiel beitreten (Join)</button>
            <button id="display-btn">Externer Bildschirm (Display)</button>
        </div>
    </div>

    <!-- Ansicht: Host-Lobby -->
    <div id="host-lobby-view" class="view">
        <div class="container">
            <button class="back-btn" data-target-view="main-menu-view">← Zurück</button>
            <h2>Spieleinstellungen</h2>
            <div class="settings">
                <div class="setting-item">
                    <label>Deck:</label>
                    <div>
                        <button id="deck-small-btn" class="toggle-btn active">Kleines Deck</button>
                        <button id="deck-large-btn" class="toggle-btn">Großes Deck</button>
                    </div>
                </div>
                <div class="setting-item">
                    <label for="pyramid-rows-input">Pyramiden-Reihen (3-7):</label>
                    <input type="number" id="pyramid-rows-input" min="3" max="7" value="5">
                </div>
                <div class="setting-item checkbox-label">
                    <input type="checkbox" id="external-display-checkbox">
                    <label for="external-display-checkbox">Externen Bildschirm verwenden</label>
                </div>
            </div>
            <div class="lobby-info">
                <h3>Room Code: <span id="room-code-display">----</span></h3>
                <p id="display-status" class="hidden">Wartet auf externen Bildschirm...</p>
                <h4>Spieler (<span id="player-count">1</span>/7):</h4>
                <ul id="player-list-host"></ul>
                <button id="start-game-btn" disabled>Warte auf Spieler...</button>
            </div>
        </div>
    </div>

    <!-- Ansicht: Spieler-Lobby (Join) -->
    <div id="join-lobby-view" class="view">
        <div class="container">
            <button class="back-btn" data-target-view="main-menu-view">← Zurück</button>
            <h2>Spiel beitreten</h2>
            <input type="text" id="room-code-input" placeholder="Room Code" pattern="\d*">
            <button id="join-game-btn">Beitreten</button>
            <div id="waiting-area" class="hidden">
                <h3>Warte auf Spielstart durch Host...</h3>
                <h4>Beigetretene Spieler:</h4>
                <ul id="player-list-joiner"></ul>
            </div>
        </div>
    </div>

    <!-- Ansicht: Display-Lobby -->
    <div id="display-join-view" class="view">
        <div class="container">
            <button class="back-btn" data-target-view="main-menu-view">← Zurück</button>
            <h2>Display beitreten</h2>
            <input type="text" id="display-room-code-input" placeholder="Room Code" pattern="\d*">
            <button id="join-display-btn">Als Display beitreten</button>
        </div>
    </div>

    <!-- Ansicht: Spiel (Spieler) -->
    <div id="player-game-view" class="view game-view">
        <div id="game-info-bar">
             <div id="player-sips">Deine Schlücke: 0</div>
             <div id="turn-info">Host wählt die Einstellungen...</div>
        </div>
        <div class="card-area">
            <h4>Erhaltene Karten</h4>
            <div id="received-cards-container" class="hand-container">
                <div class="placeholder-text">Hier erscheinen Karten, die du von anderen erhältst.</div>
            </div>
        </div>
        <div class="card-area">
            <h4>Deine Hand</h4>
            <div id="player-hand-container" class="hand-container">
                 <div class="placeholder-text">Deine Handkarten werden hier angezeigt, sobald das Spiel startet.</div>
            </div>
        </div>
        <button id="next-turn-btn" class="hidden">Nächste Karte aufdecken</button>
    </div>

    <!-- Ansicht: Spiel (Display) -->
    <div id="display-game-view" class="view game-view">
        <div id="display-players-container"></div>
        <div id="pyramid-container">
            <div class="placeholder-text">Die Pyramide erscheint hier, sobald das Spiel startet.</div>
        </div>
        <div id="action-log">Warte auf Spielstart...</div>
    </div>

    <!-- Allgemeines Overlay für Interaktionen -->
    <div id="interaction-overlay" class="hidden">
        <div id="interaction-content"></div>
    </div>

    <!-- Module für die Spiellogik -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="main.js"></script>
</body>
</html>
